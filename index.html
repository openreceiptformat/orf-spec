<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenRF | The Universal Receipt Standard</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        :root {
            --primary-purple: #6b3fa0;
            --accent-purple: #9d6cd2;
            --light-purple: #f3e8ff;
            --white: #ffffff;
            --dark-text: #2d3436;
        }
        body { font-family: 'Helvetica Neue', Arial, sans-serif; margin: 0; background-color: var(--white); color: var(--dark-text); line-height: 1.6; }
        header { background-color: var(--primary-purple); color: var(--white); padding: 80px 20px; text-align: center; border-bottom: 8px solid var(--accent-purple); }
        .header-logo { width: 140px; margin-bottom: 20px; filter: drop-shadow(0px 4px 10px rgba(0,0,0,0.2)); }
        .container { max-width: 1000px; margin: auto; padding: 60px 20px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px; margin-top: 50px; }
        .card { background: var(--white); border: 1px solid var(--light-purple); border-radius: 16px; padding: 30px; text-align: center; box-shadow: 0 4px 6px rgba(107, 63, 160, 0.05); transition: all 0.3s ease; }
        .card img { height: 100px; margin-bottom: 20px; object-fit: contain; }
        h1, h2, h3 { color: var(--primary-purple); }
        header h1 { color: var(--white); font-size: 3rem; margin: 0; letter-spacing: -1px; }
        
        /* Stylized area for the Readme content */
        #readme-content {
            background: #fafafa;
            padding: 30px;
            border-radius: 12px;
            border: 1px solid var(--light-purple);
            margin-top: 20px;
        }
        /* Style the markdown elements within the readme */
        #readme-content h1, #readme-content h2 { border-bottom: 2px solid var(--light-purple); padding-bottom: 10px; }
        #readme-content code { background: #eee; padding: 2px 5px; border-radius: 4px; }
        #readme-content pre { background: #2d3436; color: #fff; padding: 15px; border-radius: 8px; overflow-x: auto; }

        footer { text-align: center; padding: 60px; background: var(--light-purple); color: var(--primary-purple); }
    </style>
</head>
<body>

<header>
    <img src="libraries/images/orf.png" alt="OpenRF Logo" class="header-logo">
    <h1>OpenRF</h1>
    <p style="font-size: 1.4rem; color: var(--light-purple);">The Universal Receipt & Menu Standard</p>
</header>

<div class="container">
    <div class="grid">
        <div class="card">
            <img src="libraries/images/recipta.png" alt="Receipta Vault">
            <h3>Receipta</h3>
            <p>The <strong>User Vault</strong>. Private, local-first receipt management.</p>
        </div>
        <div class="card">
            <img src="libraries/images/tommy.png" alt="Tommy the Tapir">
            <h3>Tapir (Tommy)</h3>
            <p>The <strong>Merchant Platform</strong>. Tap-to-menu and Tap-to-receipt infrastructure.</p>
        </div>
    </div>

    <section style="margin-top: 80px;">
        <h2>The Protocol Documentation</h2>
        <p>Live from the <code>README.md</code>:</p>
        <div id="readme-content">Loading technical specifications...</div>
    </section>
</div>

<footer>
    <p>ðŸ“¡ Open Receipt Format Organization â€¢ No Paper. No Tracking.</p>
</footer>

<script>
    // 1. Get the raw markdown file from your repo
    // Replace 'openreceiptformat/orf-spec' if your repo name is different
    const repo = 'openreceiptformat/orf-spec';
    const readmeUrl = `https://raw.githubusercontent.com/${repo}/main/README.md`;

    fetch(readmeUrl)
        .then(response => response.text())
        .then(text => {
            // 2. Convert Markdown to HTML using Marked.js
            document.getElementById('readme-content').innerHTML = marked.parse(text);
        })
        .catch(err => {
            document.getElementById('readme-content').innerHTML = "Error loading README. Please view it directly on GitHub.";
            console.error(err);
        });
</script>

</body>
</html>
